<!doctype html>
<html lang="{{ site.lang | default: "en-US" }}">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    {% seo %}
    <link rel="stylesheet" href="{{ '/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}">
    <script src="https://code.jquery.com/jquery-3.3.0.min.js" integrity="sha256-RTQy8VOmNlT6b2PIRur37p6JEBZUE7o8wPgMvu18MC4=" crossorigin="anonymous"></script>
    <script src="{{ '/assets/js/main.js' | relative_url }}"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    {% include head-custom.html %}
    <style>
      .wrapper {
        display: flex;
        flex-direction: column;
      }
      .main-content {
        flex: 3;
        margin-right: 2%;
      }
      .left-sidebar {
        flex: 1;
        padding: 20px;
        background-color: #f8f9fa;
        min-width: 300px;
        margin-top: 30px;
      }
      .right-sidebar {
        flex: 1;
        padding-left: 2%;
        border-left: 1px solid #e0e0e0;
        margin-top: 30px;
      }
      @media (min-width: 768px) {
        .wrapper {
          flex-direction: row;
        }
        .main-content {
          flex: 2;
          margin-right: 2%;
        }
        .left-sidebar {
          flex: 1;
          margin-top: 0;
        }
        .right-sidebar {
          flex: 1;
          margin-top: 0;
        }
      }
      .tab {
        overflow: hidden;
        border-bottom: 1px solid #ddd;
        background-color: #f1f1f1;
        margin-bottom: 20px;
      }
      .tab button {
        background-color: inherit;
        float: left;
        border: none;
        outline: none;
        cursor: pointer;
        padding: 14px 16px;
        transition: 0.3s;
        font-size: 17px;
      }
      .tab button:hover {
        background-color: #ddd;
      }
      .tab button.active {
        background-color: #ccc;
      }
      .tab-content {
        display: none;
      }
      .tab-content.active {
        display: block;
      }
      .left-sidebar form {
        margin-bottom: 20px;
      }
      .left-sidebar input, .left-sidebar textarea {
        width: 100%;
        padding: 8px;
        margin: 5px 0;
        box-sizing: border-box;
      }
      .left-sidebar button {
        padding: 10px;
        background-color: #007bff;
        color: white;
        border: none;
        cursor: pointer;
        width: 100%;
        margin-bottom: 10px;
      }
      .left-sidebar button:hover {
        background-color: #0056b3;
      }
      .left-sidebar .result {
        background-color: #e9ecef;
        padding: 10px;
        border: 1px solid #ced4da;
        margin-top: 10px;
        white-space: pre-wrap;
      }
    </style>
  </head>
  <body>
    <header>
      <h1>Argument Mining Framework Demo</h1>
      <p>Test and explore various modules and the pipeline here.</p>
    </header>

    <div class="wrapper">
      <!-- Left Sidebar with Demo Forms -->
      <aside class="left-sidebar">
        <div class="tab">
          <button class="tablinks" onclick="openTab(event, 'Pipeline')">Pipeline</button>
          <button class="tablinks" onclick="openTab(event, 'Turninator')">Turninator</button>
          <button class="tablinks" onclick="openTab(event, 'Segmenter')">Segmenter</button>
          <button class="tablinks" onclick="openTab(event, 'Propositionalizer')">Propositionalizer</button>
          <button class="tablinks" onclick="openTab(event, 'ArgumentRelation')">Argument Relation</button>
          <button class="tablinks" onclick="openTab(event, 'Hypothesis')">Hypothesis</button>
          <button class="tablinks" onclick="openTab(event, 'Scheme')">Scheme</button>
          <button class="tablinks" onclick="openTab(event, 'Visualizer')">Visualizer</button>
        </div>

        <!-- Tab Content -->
        <div id="Pipeline" class="tab-content">
          <form id="pipeline-form">
            <h3>Pipeline</h3>
            <textarea id="pipeline-input" placeholder="Enter text here..."></textarea>
            <button type="button" onclick="runPipeline()">Run Pipeline</button>
            <div id="pipeline-result" class="result"></div>
          </form>
        </div>

        <div id="Turninator" class="tab-content">
          <form id="turninator-form">
            <h3>Turninator</h3>
            <textarea id="turninator-input" placeholder="Enter text here..."></textarea>
            <button type="button" onclick="runTurninator()">Run Turninator</button>
            <div id="turninator-result" class="result"></div>
          </form>
        </div>

        <div id="Segmenter" class="tab-content">
          <form id="segmenter-form">
            <h3>Segmenter</h3>
            <textarea id="segmenter-input" placeholder="Enter text here..."></textarea>
            <button type="button" onclick="runSegmenter()">Run Segmenter</button>
            <div id="segmenter-result" class="result"></div>
          </form>
        </div>

        <div id="Propositionalizer" class="tab-content">
          <form id="propositionalizer-form">
            <h3>Propositionalizer</h3>
            <textarea id="propositionalizer-input" placeholder="Enter text here..."></textarea>
            <button type="button" onclick="runPropositionalizer()">Run Propositionalizer</button>
            <div id="propositionalizer-result" class="result"></div>
          </form>
        </div>

        <div id="ArgumentRelation" class="tab-content">
          <form id="argument-relation-form">
            <h3>Argument Relation</h3>
            <textarea id="argument-relation-input" placeholder="Enter text here..."></textarea>
            <button type="button" onclick="runArgumentRelation()">Run Argument Relation</button>
            <div id="argument-relation-result" class="result"></div>
          </form>
        </div>

        <div id="Hypothesis" class="tab-content">
          <form id="hypothesis-form">
            <h3>Hypothesis</h3>
            <textarea id="hypothesis-input" placeholder="Enter text here..."></textarea>
            <button type="button" onclick="runHypothesis()">Run Hypothesis</button>
            <div id="hypothesis-result" class="result"></div>
          </form>
        </div>

        <div id="Scheme" class="tab-content">
          <form id="scheme-form">
            <h3>Scheme</h3>
            <textarea id="scheme-input" placeholder="Enter text here..."></textarea>
            <button type="button" onclick="runScheme()">Run Scheme</button>
            <div id="scheme-result" class="result"></div>
          </form>
        </div>

        <div id="Visualizer" class="tab-content">
          <form id="visualizer-form">
            <h3>Visualizer</h3>
            <textarea id="visualizer-input" placeholder="Enter text here..."></textarea>
            <button type="button" onclick="runVisualizer()">Run Visualizer</button>
            <div id="visualizer-result" class="result"></div>
          </form>
        </div>
      </aside>

      <!-- Main Content Area -->
      <main class="main-content">
        <h2>Explore the Modules and Pipeline</h2>
        <p>Use the tabs to explore different modules and see how they work. Input text into the forms and click "Run" to get results.</p>
      </main>

      <!-- Right Sidebar with Twitter Feed -->
      <aside class="right-sidebar">
        <h2>Twitter Feed</h2>
        <div class="twitter-feed">
            <a class="twitter-timeline" data-width="300" data-height="600" data-theme="dark" href="https://twitter.com/ARG_tech?ref_src=twsrc%5Etfw">Tweets by ARG_tech</a>
            <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
        </div>
      </aside>
    </div>

    <footer>
      <p>&copy; {{ site.title | default: "Argument Mining Framework" }} | Created by <a href="https://twitter.com/mattgraham">Matt Graham</a></p>
    </footer>

    <script>
      // Function to open the selected tab
      function openTab(evt, tabName) {
        var i, tabcontent, tablinks;
        tabcontent = document.getElementsByClassName("tab-content");
        for (i = 0; i < tabcontent.length; i++) {
          tabcontent[i].style.display = "none";
        }
        tablinks = document.getElementsByClassName("tablinks");
        for (i = 0; i < tablinks.length; i++) {
          tablinks[i].className = tablinks[i].className.replace(" active", "");
        }
        document.getElementById(tabName).style.display = "block";
        evt.currentTarget.className += " active";
      }

      // Set the default tab to open
      document.getElementsByClassName("tablinks")[0].click();

      // AJAX functions for different modules
      function runPipeline() {
        const input = $('#pipeline-input').val();
        $.post('/run_pipeline', { input: input }, function(data) {
          $('#pipeline-result').text(JSON.stringify(data, null, 2));
        });
      }

      function runTurninator() {
        const input = $('#turninator-input').val();
        $.post('/run_turninator', { input: input }, function(data) {
          $('#turninator-result').text(JSON.stringify(data, null, 2));
        });
      }

      function runSegmenter() {
        const input = $('#segmenter-input').val();
        $.post('/run_segmenter', { input: input }, function(data) {
          $('#segmenter-result').text(JSON.stringify(data, null, 2));
        });
      }

      function runPropositionalizer() {
        const input = $('#propositionalizer-input').val();
        $.post('/run_propositionalizer', { input: input }, function(data) {
          $('#propositionalizer-result').text(JSON.stringify(data, null, 2));
        });
      }

      function runArgumentRelation() {
        const input = $('#argument-relation-input').val();
        $.post('/run_argument_relation', { input: input }, function(data) {
          $('#argument-relation-result').text(JSON.stringify(data, null, 2));
        });
      }

      function runHypothesis() {
        const input = $('#hypothesis-input').val();
        $.post('/run_hypothesis', { input: input }, function(data) {
          $('#hypothesis-result').text(JSON.stringify(data, null, 2));
        });
      }

      function runScheme() {
        const input = $('#scheme-input').val();
        $.post('/run_scheme', { input: input }, function(data) {
          $('#scheme-result').text(JSON.stringify(data, null, 2));
        });
      }

      function runVisualizer() {
        const input = $('#visualizer-input').val();
        $.post('/run_visualizer', { input: input }, function(data) {
          $('#visualizer-result').text(JSON.stringify(data, null, 2));
        });
      }
    </script>
  </body>
</html>
